!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.omniscience=n():e.omniscience=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.watch=void 0;var o=t(2),u=r(o);n.watch=u.default},function(e,n){"use strict";n.__esModule=!0;var t=0;n.default=function(){return t++}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return"_"==e.slice(0,1)}function u(e){return["on","sort"].indexOf(e)>=0}function i(e){function n(e){t.call("syncChange"),null==r&&(r=setTimeout(function(){r=null,t.call("change")},0))}if(e._watchable)return e;e._id||Object.defineProperty(e,"_id",{enumerable:!1,value:(0,l.default)()});var t=f.default.dispatch("change","syncChange"),r=null;e._unwatch=function(){t._.change=[],t._.syncChange=[],delete e._watchable},Object.defineProperty(e,"_unwatch",{enumerable:!1});var c={set:function(t,r,c,f){var a=o(r)||u(r);if(a)return t[r]=c,Object.defineProperty(t,r,{enumerable:!1}),!0;var l=t[r]!=c,s=r in t,h="object"==typeof c;return c&&h&&!s&&!a&&(c=i(c),c.on("syncChange."+e._id,function(){n()})),t[r]=c,l&&!a&&n(),!0},deleteProperty:function(e,t){var r=e[t];return r._unwatch&&r._unwatch(),delete e[t],n(),!0}},a=new Proxy(e,c);return a.on=function(e,n){t.on(e,n)},Object.keys(e).forEach(function(t){o(t)||"object"!=typeof e[t]||(e[t]=i(e[t]),e[t].on("syncChange."+e._id,function(){n()}))}),Object.defineProperty(e,"_watchable",{enumerable:!1,configurable:!0,value:!0}),a}n.__esModule=!0;var c=t(3),f=r(c),a=t(1),l=r(a);n.default=i},function(e,n,t){!function(e,t){t(n)}(this,function(e){"use strict";function n(){for(var e,n=0,r=arguments.length,o={};r>n;++n){if(!(e=arguments[n]+"")||e in o)throw Error();o[e]=[]}return new t(o)}function t(e){this._=e}function r(e,n){return e.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");if(0>r||(t=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw Error();return{type:e,name:t}})}function o(e,n){for(var t,r=0,o=e.length;o>r;++r)if((t=e[r]).name===n)return t.value}function u(e,n,t){for(var r=0,o=e.length;o>r;++r)if(e[r].name===n){e[r]=c,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=t&&e.push({name:n,value:t}),e}var i="0.4.3",c={value:function(){}};t.prototype=n.prototype={constructor:t,on:function(e,n){var t,i=this._,c=r(e+"",i),f=-1,a=c.length;{if(arguments.length>=2){if(null!=n&&"function"!=typeof n)throw Error();for(;++f<a;)if(t=(e=c[f]).type)i[t]=u(i[t],e.name,n);else if(null==n)for(t in i)i[t]=u(i[t],e.name,null);return this}for(;++f<a;)if((t=(e=c[f]).type)&&(t=o(i[t],e.name)))return t}},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new t(e)},call:function(e,n){if((t=arguments.length-2)>0)for(var t,r=Array(t),o=0;t>o;++o)r[o]=arguments[o+2];this.apply(e,n,r)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw Error();for(var r=this._[e],o=0,u=r.length;u>o;++o)r[o].value.apply(n,t)}},e.version=i,e.dispatch=n})}])});